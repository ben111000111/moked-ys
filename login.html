<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>住 | 拽 爪拽  砖专</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        /*  拽住  砖砖 驻 拽 */
        body { font-family: 'Assistant', sans-serif; font-style: normal !important; }
        * { font-style: normal !important; }
    </style>
</head>
<body class="bg-slate-50 flex items-center justify-center min-h-screen p-4 text-right">
    <div class="bg-white p-8 rounded-[2.5rem] shadow-xl w-full max-w-md border border-slate-200 text-center relative">
        
        <div class="absolute top-6 left-6 flex items-center gap-2 bg-slate-50 px-3 py-1 rounded-full border border-slate-100">
            <span id="statusText" class="text-[10px] font-bold text-slate-400 uppercase">拽转 专</span>
            <div id="statusLight" class="w-2.5 h-2.5 rounded-full bg-slate-300 animate-pulse"></div>
        </div>

        <img id="loginLogo" class="h-20 mx-auto mb-4 object-contain" alt=" 拽" onerror="this.src='logo.png'">
        
        <h1 class="text-2xl font-black text-slate-800">住 注专转</h1>
        <div id="dynamicGreeting" class="text-blue-600 font-bold text-lg mt-1">注...</div>
        
        <form id="authForm" class="mt-8 space-y-4">
            <input type="text" id="username" placeholder="砖 砖转砖" class="w-full p-4 rounded-2xl border font-bold bg-slate-50 outline-none focus:ring-2 ring-blue-500 text-right">
            <input type="password" id="password" placeholder="住住" class="w-full p-4 rounded-2xl border font-bold bg-slate-50 outline-none focus:ring-2 ring-blue-500 text-right">
            <button type="submit" class="w-full py-4 bg-blue-600 text-white rounded-2xl font-black text-lg shadow-lg hover:bg-blue-700 transition-all active:scale-95">转专转</button>
        </form>

        <div class="mt-10 pt-6 border-t border-slate-100">
            <p class="text-[10px] font-bold text-slate-400 mb-3 uppercase tracking-widest">转 转</p>
            <div class="flex justify-center gap-6">
                <a href="tel:0539653809" class="flex items-center gap-1.5 text-blue-600 font-black text-sm hover:scale-105 transition-all">
                    <span></span> 砖
                </a>
                <a href="https://wa.me/972539653809" target="_blank" class="flex items-center gap-1.5 text-green-600 font-black text-sm hover:scale-105 transition-all">
                    <span></span> 住驻
                </a>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script>
        //  砖 注 -CONFIG  拽抓 拽
        const logoImg = document.getElementById('loginLogo');
        if (typeof CONFIG !== 'undefined' && CONFIG.LOGO_FILENAME) {
            logoImg.src = CONFIG.LOGO_FILENAME;
        } else {
            logoImg.src = 'logo.png';
        }
        
        // 拽转 专 砖专转 注 专
        async function checkServerStatus() {
            const light = document.getElementById('statusLight');
            const text = document.getElementById('statusText');
            try {
                const response = await fetch(CONFIG.SCRIPT_URL);
                if (response.ok || response.type === 'opaque') {
                    light.classList.replace('bg-slate-300', 'bg-green-500');
                    light.classList.remove('animate-pulse');
                    text.innerText = "砖专转 专";
                    text.classList.replace('text-slate-400', 'text-green-600');
                }
            } catch (e) {
                light.classList.replace('bg-slate-300', 'bg-red-500');
                light.classList.remove('animate-pulse');
                text.innerText = " 专";
                text.classList.replace('text-slate-400', 'text-red-500');
            }
        }

        function setGreeting() {
            const now = new Date(), hour = now.getHours(), day = now.getDay();
            let g = "";
            if (day === 5 && hour >= 14) g = "注专 砖转 砖";
            else if (day === 6 && hour < 19) g = "砖转 砖";
            else if (day === 6 && hour >= 19) g = "砖注 ";
            else if (hour < 12) g = "拽专 ";
            else if (hour < 17) g = "爪专 ";
            else if (hour < 21) g = "注专 ";
            else g = " ";
            document.getElementById('dynamicGreeting').innerText = g;
        }

        document.getElementById('authForm').onsubmit = (e) => {
            e.preventDefault();
            localStorage.setItem('user_auth', 'true');
            localStorage.setItem('user_profile', JSON.stringify({ name: document.getElementById('username').value }));
            window.location.href = 'index.html';
        };

        setGreeting();
        checkServerStatus();
    </script>
</body>
</html>

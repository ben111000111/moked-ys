<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>שבתות קדימה | מוקד המוקד</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;700;800&display=swap" rel="stylesheet">
</head>
<body class="bg-slate-50 font-['Assistant'] pb-20 text-right">
    <header class="bg-white border-b-2 p-4 sticky top-0 z-50 flex justify-between items-center shadow-sm">
        <div class="flex items-center gap-4">
            <img id="headerLogo" class="h-10">
            <h1 class="text-xl font-black text-slate-800 italic">שבתות וחגים קרובים</h1>
        </div>
        <a href="index.html" class="px-4 py-2 bg-blue-600 text-white rounded-xl font-bold text-sm">חזרה</a>
    </header>

    <main class="max-w-4xl mx-auto p-6 space-y-4" id="sabbathList"></main>

    <script src="config.js"></script>
    <script>
        document.getElementById('headerLogo').src = CONFIG.LOGO_FILENAME;

        function render() {
            const list = document.getElementById('sabbathList');
            let curr = new Date();
            curr.setDate(curr.getDate() + (6 - curr.getDay()));

            for (let i = 0; i < 40; i++) {
                let d = new Date(curr);
                d.setDate(curr.getDate() + (i * 7));
                const key = d.toISOString().split('T')[0];
                const name = PARASHOT_DB[key] || "פרשת השבוע";
                
                const isHoliday = name.includes("ערב") || name.includes("חוה\"מ") || name.includes("פסח") || name.includes("סוכות");
                const title = isHoliday ? name : `פרשת ${name}`;

                const card = document.createElement('div');
                card.className = "bg-white p-5 rounded-3xl border border-slate-100 shadow-sm flex justify-between items-center";
                card.innerHTML = `
                    <div>
                        <div class="text-lg font-black text-slate-800 leading-tight">${title}</div>
                        <div class="text-[10px] text-slate-400 font-bold uppercase">${d.toLocaleDateString('he-IL')}</div>
                    </div>
                    <button onclick="window.location.href='index.html?date=${key}'" class="text-blue-600 bg-blue-50 px-4 py-2 rounded-xl text-xs font-black">צפה בשבוע</button>
                `;
                list.appendChild(card);
            }
        }
        render();
    </script>
</body>
</html>
